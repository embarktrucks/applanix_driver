<launch>
  <remap from="/applanix/nav" to="/applanix_og/nav"/>
  <remap from="/applanix/nav_drop" to="/applanix_og/nav_drop"/>
  <remap from="/applanix/imu_data" to="/applanix_og/imu_data"/>
  <remap from="/applanix/gps_fix" to="/applanix_og/gps_fix"/>
  <remap from="/applanix/gps_odom" to="/applanix_og/gps_odom"/>
  <remap from="/applanix/origin" to="/applanix_og/origin"/>

  <arg name="param_file" default="$(find applanix_bridge)/launch/default_config.yaml"/>
  <arg name="publish_tf" default="True"/>
  <arg name="odom_frame" default="absolute"/>
  <arg name="base_frame" default="applanix"/>
  <arg name="zero_start" default="True"/>
  <arg name="origin" default="None"/>

  <group ns="applanix">
    <rosparam command="load" file="$(arg param_file)"/>
     
    <node name="applanix_bridge" pkg="applanix_bridge" type="bridge" output="screen" respawn="true"/>
    <node name="applanix_params" pkg="applanix_bridge" type="params" />
    <node name="applanix_publisher" pkg="applanix_bridge" type="publisher" output="screen" respawn="true">
      <rosparam subst_value="true">
        publish_tf: $(arg publish_tf)
        odom_frame: $(arg odom_frame)
        base_frame: $(arg base_frame)
        zero_start: $(arg zero_start)
        /gps_origin: $(arg origin)
      </rosparam>
    </node>
    <node name="applanix_diagnostics" pkg="applanix_bridge" type="diagnostics_publisher" respawn="true"/>
  </group>
</launch>
